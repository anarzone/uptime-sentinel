<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>⚫️</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body>
        <div class="app-container">
            {% if show_sidebar|default(false) %}
            <aside class="sidebar glass">
                <style>
                    .nav-link {
                        display: flex;
                        align-items: center;
                        gap: 0.75rem;
                        padding: 0.75rem 1rem;
                        color: var(--text-secondary);
                        text-decoration: none;
                        border-radius: var(--radius-md);
                        transition: var(--transition);
                        opacity: 0.8;
                    }
                    .nav-link:hover {
                        background: var(--surface-hover);
                        color: var(--text-primary);
                        opacity: 1;
                    }
                    .nav-link.active {
                        background: var(--primary-color-alpha);
                        color: var(--primary-color);
                        opacity: 1;
                        font-weight: 500;
                    }
                    .nav-link svg {
                        opacity: 0.7;
                        transition: var(--transition);
                    }
                    .nav-link:hover svg,
                    .nav-link.active svg {
                        opacity: 1;
                        stroke: currentColor;
                    }
                </style>
                <div class="logo">
                    <a href="{{ path('app_landing_page') }}" style="text-decoration: none;">
                        <h2 class="text-gradient">SENTINEL</h2>
                    </a>
                </div>
                <nav class="nav">
                    <a href="{{ path('admin_dashboard') }}" class="nav-link {{ app.request.attributes.get('_route') == 'admin_dashboard' ? 'active' : '' }}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
                        Dashboard
                    </a>
                    <a href="{{ path('admin_monitors_index') }}" class="nav-link {{ app.request.attributes.get('_route') starts with 'admin_monitors' ? 'active' : '' }}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg>
                        Monitors
                    </a>
                    <a href="{{ path('admin_alert_rules_index') }}" class="nav-link {{ app.request.attributes.get('_route') starts with 'admin_alert_rules' ? 'active' : '' }}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path></svg>
                        Alerts
                    </a>
                    <a href="{{ path('admin_escalation_policies_index') }}" class="nav-link {{ app.request.attributes.get('_route') starts with 'admin_escalation_policies' ? 'active' : '' }}">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline></svg>
                        Policies
                    </a>
                </nav>
            </aside>
            {% endif %}
            <main class="main-content" style="{{ not (show_sidebar|default(false)) ? 'padding: 0; max-width: none;' : '' }}">
                {% block body %}{% endblock %}
            </main>
        </div>
    </body>
</html>
